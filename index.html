
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>座位表系统</title>
  <style>
    .seat-map-panel { padding: 20px; background: #f0f0f0; }
    .button { padding: 6px 12px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; }
  </style>
</head>
<body>
  <div class="seat-map-panel">
    <h2>座位平面图</h2>
    <div>
      <button id="reset-btn" class="button danger">重置座位表</button>
      <button id="export-pdf-btn" class="button" style="margin-left: 10px;">导出 PDF</button>
    </div>
    <div style="margin-top:20px">这里是座位图内容（示例）</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    document.getElementById('export-pdf-btn').addEventListener('click', () => {
        const seatMap = document.querySelector('.seat-map-panel');
        const today = new Date().toISOString().slice(0, 10); // yyyy-mm-dd

        const opt = {
            margin: 0.5,
            filename: `SeatMap_${today}.pdf`,
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, useCORS: true },
            jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
        };

        html2pdf().set(opt).from(seatMap).save();
    });
  </script>
</body>
</html>
